# 1. Имя робота (отображается в списке Actions)
name: Guard Robot

# 2. Условие запуска (Триггер)
on:
  push:
    branches:
      - main  # Запускаться только когда мы сохраняем код в главную ветку

# 3. Сами работы
jobs:
  security-check:
    runs-on: ubuntu-latest
    
    # 4. Переменные (Твой пульт управления)
    env:
      PROJECT: "DOMBAY"
      
    steps:
      # Шаг 1: Робот скачивает твой код из репозитория
      - name: Checkout Code
        uses: actions/checkout@v4

      # Шаг 2: Робот здоровается, используя переменную
      - name: Say Hello
        run: echo "Я работаю над проектом $PROJECT"

      # Шаг 3: Проверка безопасности (Логический барьер)
      - name: Logic Gate
        # Команда grep ищет слово в кавычках внутри указанного файла.
        # Если слова нет — команда выдает ошибку, и весь пайплайн горит красным.
        run: grep "Домбай" index.html
